<!--
    #Copyright: aucobo | http://aucobo.de/
    #Author:    Benjamin Schaich | benjamin.schaich@aucobo.de
    #Date:      25.07.2017
  -->
<!-- navbar -->
<nav class="navbar navbar-expand-lg"  *ngxPermissionsOnly="['ROLE_USER', 'ROLE_ADMIN' , 'ROLE_PROCESS_OWNER']">
  <a *ngIf="innerWidth<992" class="navbar-brand" style="text-decoration: none" routerLink="/"><span class="aucoboTag">aucobo </span><span
    *ngIf="title" class="title">{{title}}</span></a>
  <button (click)="toggleCollapse()" class="navbar-toggler ml-auto" type="button" aria-label="Toggle navigation">
    <svg *ngIf="show" id="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <defs>
      </defs>
      <title>Close</title>
      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
      <path d="M0 0h24v24H0z" fill="none"/>
    </svg>
    <svg *ngIf="!show" id="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <defs>
        <style type="text/css ">
          path,
          d {
            width: 100%;
            height: auto;
          }

        </style>
      </defs>
      <title>Menu</title>
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
    </svg>
  </button>
  <div class="collapse navbar-collapse " [class.show]="show || innerWidth>991">
    <div [class.hide]="innerWidth<991">
      <a class="navbar-brand" style="text-decoration: none" routerLink="/"><span class="aucoboTag">aucobo </span><span
        *ngIf="title" class="title" style="color: var(--txt-main)">{{title}}</span></a></div>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="todosDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 29">
            <defs>
              <style></style>
            </defs>
            <path class="cls-1"
                  d="M25,5H22a2,2,0,0,0-2-2H19a2,2,0,0,0-2-2H15a2,2,0,0,0-1.41.59A2,2,0,0,0,13,3H12a2,2,0,0,0-2,2H7A2,2,0,0,0,5,7V28a2,2,0,0,0,2,2H25a2,2,0,0,0,2-2V7A2,2,0,0,0,25,5ZM12.18,5H14a1,1,0,0,0,1-1,1,1,0,0,1,2,0,1,1,0,0,0,1,1h1.82V7H12.18ZM25,28H7V7h3V8a1.05,1.05,0,0,0,1.09,1h9.82A1.05,1.05,0,0,0,22,8V7h3Z"
                  transform="translate(-5 -1)"/>
            <rect class="cls-1" x="19.5" y="12.5" width="2" height="5" rx="1" ry="1"
                  transform="translate(0.5 34.5) rotate(-90)"/>
            <rect class="cls-1" x="19.5" y="19.5" width="2" height="5" rx="1" ry="1"
                  transform="translate(-6.5 41.5) rotate(-90)"/>
            <path class="cls-1"
                  d="M8.5,22.5l2,2a.71.71,0,0,0,1,0l4-4a.71.71,0,0,0,0-1h0a.71.71,0,0,0-1,0L11,23,9.5,21.5a.71.71,0,0,0-1,0h0A.71.71,0,0,0,8.5,22.5Z"
                  transform="translate(-5 -1)"/>
            <path class="cls-1"
                  d="M8.5,15.5l2,2a.71.71,0,0,0,1,0l4-4a.71.71,0,0,0,0-1h0a.71.71,0,0,0-1,0L11,16,9.5,14.5a.71.71,0,0,0-1,0h0A.71.71,0,0,0,8.5,15.5Z"
                  transform="translate(-5 -1)"/>
          </svg>
          ToDos
        </a>
        <div class="dropdown-menu" aria-labelledby="todosDropdown">
          <a class="dropdown-item" *ngxPermissionsExcept="['ROLE_USER']" routerLink="/todos" > Übersicht</a>
          <a class="dropdown-item" routerLink="/todos/create"> ToDo versenden</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="notificationsDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 26">
            <defs>
              <style></style>
            </defs>
            <title>Notifcation</title>
            <path class="cls-1"
                  d="M26,21V15a10,10,0,0,0-6-9.16,4,4,0,0,0-8,0A10,10,0,0,0,6,15v6L4.41,22.59a1.41,1.41,0,0,0-.41,1H4A1.41,1.41,0,0,0,5.41,25h6.72a4,4,0,0,0,7.74,0h6.72A1.41,1.41,0,0,0,28,23.59h0a1.41,1.41,0,0,0-.41-1ZM16,26a2,2,0,0,1-1.73-1h3.46A2,2,0,0,1,16,26Zm8-5h0v2H8V21H8V15a8,8,0,0,1,4.45-7.17A8.23,8.23,0,0,1,14,7.25V6a1.9,1.9,0,0,1,.18-.83,2,2,0,0,1,3.64,0A1.9,1.9,0,0,1,18,6V7.25a8.23,8.23,0,0,1,1.55.58A8,8,0,0,1,24,15Z"
                  transform="translate(-4 -2)"/>
          </svg>
          Nachrichten
        </a>
        <div class="dropdown-menu" aria-labelledby="notificationsDropdown">
          <a class="dropdown-item" routerLink="/notifications" *ngxPermissionsExcept="['ROLE_USER']"> Übersicht</a>
          <a class="dropdown-item" routerLink="/notifications/create"> Nachricht versenden</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="smartwatchDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 32">
            <defs>
              <style></style>
            </defs>
            <title>Smartwatch</title>
            <path class="cls-1"
                  d="M26,12V10a1,1,0,0,0-1-1V8a2,2,0,0,0-2-2H22V1.63A1.63,1.63,0,0,0,20.37,0H11.63A1.63,1.63,0,0,0,10,1.63V6H9A2,2,0,0,0,7,8V23a2,2,0,0,0,2,2h1v5.37A1.63,1.63,0,0,0,11.63,32h8.74A1.63,1.63,0,0,0,22,30.37V25h1a2,2,0,0,0,2-2V19a1,1,0,0,0,1-1V16a1,1,0,0,0-1-1V13A1,1,0,0,0,26,12ZM23,22a1,1,0,0,1-1,1H10a1,1,0,0,1-1-1V9a1,1,0,0,1,1-1H22a1,1,0,0,1,1,1Z"
                  transform="translate(-7)"/>
          </svg>
          Smartwatches
        </a>
        <div class="dropdown-menu" *ngxPermissionsExcept="['ROLE_USER']" aria-labelledby="smartwatchDropdown">
          <a class="dropdown-item" routerLink="/smartwatches">Übersicht</a>
          <a class="dropdown-item" routerLink="/setupsmartwatch">Smartwatch einrichten</a>
          <a class="dropdown-item" routerLink="/configurewifi">WLAN einrichten</a>
          <a class="dropdown-item" *ngxPermissionsOnly="['ROLE_ADMIN']" routerLink="/logs" >Smartwatch Logs</a>
        </div>
      </li>
      <li class="nav-item dropdown" *ngxPermissionsExcept="['ROLE_USER']">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="toolDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.41 30">
            <title>Werkzeug</title>
            <path class="cls-1"
                  d="M16.16,22s0,0,0,.06a1.24,1.24,0,0,1-.95.44,1.28,1.28,0,0,1-.8-.29l-1.59,1.9a1.24,1.24,0,0,1,.16,1.75L9,30.55a1.24,1.24,0,0,1-1.75.16L3.45,27.53a1.22,1.22,0,0,1-.16-1.74l4-4.74A1.25,1.25,0,0,1,9,20.9L10.6,19a1.23,1.23,0,1,1,1.58-1.88l.77.64Z"
                  transform="translate(-2.9 -1)"/>
            <path class="cls-1"
                  d="M29.17,2.86,28,5.72a.64.64,0,0,1-.54.39l-1.07.07a.63.63,0,0,1-.2,0l-6.69,8-1.68-1.84,6.46-7.71a.72.72,0,0,1-.07-.2l-.1-1.07a.6.6,0,0,1,.28-.6l2.63-1.6a.61.61,0,0,1,.72,0l1.21,1A.64.64,0,0,1,29.17,2.86Z"
                  transform="translate(-2.9 -1)"/>
            <path class="cls-1"
                  d="M14,4a5.79,5.79,0,0,1,0,5.45L28.35,25.13a3.35,3.35,0,1,1-5.11,4.29l-13-17a.71.71,0,0,1-.2.06,5.74,5.74,0,0,1-5.47-1.69A5.56,5.56,0,0,1,3.22,5c.31-.76,1.31,1.15,1.31,1.15A3.63,3.63,0,0,0,8.69,8.06a3.51,3.51,0,0,0,2.12-5S9.72,1,10.52,1.18A5.37,5.37,0,0,1,14,4Z"
                  transform="translate(-2.9 -1)"/>
          </svg>
          Werkzeuge
        </a>
        <div class="dropdown-menu" aria-labelledby="toolDropdown">
          <a class="dropdown-item" target="_blank" *ngxPermissionsOnly="['ROLE_ADMIN']" href="/analytics">aucobo analytics</a>
          <a class="dropdown-item" target="_blank" href="/workflows">Workflows</a>
          <a class="dropdown-item" target="_blank" *ngxPermissionsOnly="['ROLE_ADMIN']" href="/connectors">Connectors</a>
          <a class="dropdown-item" target="_blank" *ngxPermissionsOnly="['ROLE_ADMIN']" href="/rabbit">RabbitMQ</a>
        </div>
      </li>
      <li class="nav-item dropdown"  *ngxPermissionsExcept="['ROLE_USER']">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="toolDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" style="height: 16px; width: auto" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path class="cls-1"
                  d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
          </svg>
          Benutzer
        </a>
        <div class="dropdown-menu" aria-labelledby="usersDropdown">
          <a class="dropdown-item" routerLink="/users">Mitarbeiter</a>
          <a class="dropdown-item" routerLink="/roles">Rollen</a>
          <a class="dropdown-item" *ngxPermissionsOnly="['ROLE_ADMIN']" routerLink="/permissions">Berechtigungen</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="javascript:;" id="toolDropdown" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" style="height: 16px; width: auto" viewBox="0 0 24 24">
            <path class="cls-1"
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
            <path d="M0 0h24v24H0z" fill="none"/>
          </svg>
          Account
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="usersDropdown">
          <div style="margin-bottom: 10px;color: var(--txt-main);padding: 0.25rem 1.5rem;">
            <span style="font-size: 0.7em;">Eingeloggt als:</span><br>
            <span><strong>{{loggedInUserName}}</strong></span>
          </div>

          <span class="dropdown-item"><mat-slide-toggle [(ngModel)]="isThemeDark"
                                                        (click)="toggleSlider()">Dark Theme</mat-slide-toggle></span>
          <a class="dropdown-item" routerLink="/changeuserpassword">Passwort ändern</a>
          <a class="dropdown-item" href="javascript:;" (click)="logout()">Logout</a>
        </div>
      </li>
    </ul>
  </div>
</nav>
